/*!
 * 麦亚信君康项目,
 *  author: wu529778790
 */
webpackJsonp([0],{188:function(t,e,i){function n(t){i(949)}var a=i(1)(i(943),i(953),n,null,null);t.exports=a.exports},943:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(9),a=i.n(n),s=i(19),l=i.n(s);e.default={name:"mt-data-sub",props:{subCal:{type:Object,default:{}},calRisk:{type:Object,default:{}},options:{type:Object,default:{}},params:{type:Object,default:{}}},data:function(){return{visible:!1,birthDay:"",check:{}}},created:function(){this.initData()},watch:{visible:function(t,e){!1===t&&this.$emit("cancel")},check:{handler:function(t,e){var i=this;for(var n in t)this.subCal[n].option.flag.val="1"===t[n][0]?"1":0;this.$nextTick(function(){if(i.$refs.field){var t=i;i.$utils.koala(i.$refs.field,{delay:500,keyup:function(e){t.calComp()}})}}),this.calComp()},deep:!0}},computed:{limitDate:function(){var t=new Date,e=function(t,e){return t.setDate(t.getDate()+e),t};return{startDate:new Date(this.$utils.calYear(e(t,2),-61)),endDate:e(t,-29)}},calcExemptionAmount:function(){return(Number(this.subCal[1063].option.prem.val||"0")+Number(this.calRisk.mainOption.prem.val||"0"))*Number(this.subCal[1064].option.payTerm.val||"0")},insureSex:function(){return this.calRisk.basicOption.sex.val},insureAge:function(){return Number(this.$utils.calcAge(this.calRisk.basicOption.age.val||"0"))},holderSex:function(){return this.subCal[1064].option.holderSex.val},holderAge:function(){return Number(this.$utils.calcAge(this.subCal[1064].option.holderBirthday.val||"0"))},insuredRelation:function(){return this.subCal[1064].option.relation.val},hasRemitted:function(){return"1"===this.check[1064][0]}},methods:{open:function(){this.visible=!0},close:function(){this.$utils.modalHelper.beforeClose(),this.visible=!1,this.$emit("cancel"),document.setTitle("产品试算")},confirm:function(){this.visible=!1,this.$emit("confirm",this.$refs.subPopup)},initData:function(){var t=this;this.birthDay=this.subCal[1064].option.holderBirthday.val||"";var e={};this.$utils.forEach(this.subCal,function(i,n){i.mainRiskOutCode=t.params.riskCode,e[n]="1"===i.option.flag.val?["1"]:[]}),this.check=e},validate:function(t){if(this.$verify.check("sub",t)){if(this.hasRemitted){if("01"===this.insuredRelation)return this.$toast("附加豁免重疾时，与主被保人关系不能是本人。"),!1;if("02"===this.insuredRelation&&("0"===this.holderSex&&this.holderAge<22||"1"===this.holderSex&&this.holderAge<20||"0"===this.insureSex&&this.insureAge<22||"1"===this.insureSex&&this.insureAge<20))return this.$toast("投被保人为夫妻时，年龄不符合要求"),!1;if(-1!==this.$utils.inArray(this.insuredRelation,["03","24","25","26","27"])&&this.insureAge<this.holderAge)return this.$toast("被保险人年龄不应小于投保人年龄"),!1;if(-1!==this.$utils.inArray(this.insuredRelation,["04","34","28"])&&this.insureAge>this.holderAge)return this.$toast("被保险人年龄不应大于投保人年龄"),!1}return!0}return!1},openDataPicker:function(t){this.$refs.subPopup.$el.classList.remove("overflow-auto"),this.$refs[t].open()},onDataConfirm:function(t,e,i){var n=this;this.$utils.setModelValue(this.$utils.get(this,i),e[0]),this.$nextTick(function(){n.onPopupCancel(i+".val"),n.calComp()})},onPopupCancel:function(t){var e=this;this.$verify.validate(t),setTimeout(function(){e.$refs.subPopup.$el.classList.add("overflow-auto")},100)},onHolderDateConfirm:function(t){var e=this;this.$utils.setModelValue(this.subCal[1064].option.holderBirthday,this.$utils.formatDateTime(t)),this.$nextTick(function(){e.onPopupCancel("subCal[1064].option.holderBirthday.val"),e.calComp()})},calComp:function(){this.visible&&this.$emit("calComp")},updateDataPicker:function(t,e){if(this.subCal[t]&&Array.isArray(e.val)&&e.val.length>0){var i=this.$utils.camelCase(e.code.substring(5)),n=this.subCal[t].option[i];n.opt=e.val,n&&(((this.$utils.get(this.options,"sub"+i.substring(0,1).toUpperCase()+i.substring(1)+"Slots")||[])[0]||{}).values||[]).forEach(function(t){t.value===String(e.val[0])&&(n.val_text=t.label,n.val=t.value)})}},remitted:function(t){this.$utils.attribute(this.subCal,t,!0,function(t,e){"remitted"===t&&(e.val="1")})}},components:{"datetime-picker":l.a,dataPicker:a.a}}},945:function(t,e,i){e=t.exports=i(905)(!0),e.push([t.i,".mint-sub .mint-header{color:#000;height:50px;line-height:50px}.mint-sub .mint-header .header-title{font-size:16px;line-height:2}.mint-sub .mint-header i{font-size:20px;margin-right:10px}.mint-sub .stitle{background-color:#f7f7f7}.mint-sub .stitle .mint-checklist-title{font-size:16px;color:#000;padding-top:7px;line-height:2}.mint-sub .stitle.checklist-title-none .mint-checklist-title{display:none}.mint-sub .mint-data-sub{width:100%;height:100%;pointer-events:auto}.mint-sub .mint-data-sub .close{position:absolute;right:20px;top:20px}.mint-sub .mint-data-sub .close i{font-size:20px}.mint-sub .mint-data-sub .mint-field-core{text-align:right}.mint-sub .mint-data-sub .mint-cell-title,.mint-sub .mint-data-sub .mint-cell-value{font-size:93%}.mint-sub .overflow-auto{overflow:auto}.mint-sub .mint-sub-action{width:100%;text-align:right;position:fixed;top:0;padding:10px 0;background-color:#fff;pointer-events:auto}.mint-sub .mint-sub-action span{border-radius:100%;vertical-align:middle;margin-right:15px;background-color:#ccc;padding:4.5px 10px;color:#000}.mint-sub .checklist-right .mint-checklist-label{padding-left:0;padding-right:0}.mint-sub .checklist-right .mint-checkbox-label{color:#9c9a9c;margin-left:0}","",{version:3,sources:["/Users/wuwei/Desktop/coding/weshop/src/pages/policy/1088/components/108802006_sub1.vue"],names:[],mappings:"AACA,uBACE,WAAY,AACZ,YAAa,AACb,gBAAkB,CACnB,AACD,qCACI,eAAgB,AAChB,aAAe,CAClB,AACD,yBACI,eAAgB,AAChB,iBAAmB,CACtB,AACD,kBACE,wBAA0B,CAC3B,AACD,wCACI,eAAgB,AAChB,WAAY,AACZ,gBAAiB,AACjB,aAAe,CAClB,AACD,6DACE,YAAc,CACf,AACD,yBACE,WAAY,AACZ,YAAa,AACb,mBAAqB,CACtB,AACD,gCACI,kBAAmB,AACnB,WAAY,AACZ,QAAU,CACb,AACD,kCACM,cAAgB,CACrB,AACD,0CACI,gBAAkB,CACrB,AACD,oFAEI,aAAe,CAClB,AACD,yBACE,aAAe,CAChB,AACD,2BACE,WAAY,AACZ,iBAAkB,AAClB,eAAgB,AAChB,MAAO,AACP,eAAuB,AACvB,sBAAwB,AACxB,mBAAqB,CACtB,AACD,gCACI,mBAAoB,AACpB,sBAAuB,AACvB,kBAAmB,AACnB,sBAAuB,AACvB,mBAAoB,AACpB,UAAY,CACf,AACD,iDACE,eAAgB,AAChB,eAAiB,CAClB,AACD,gDACE,cAAe,AACf,aAAe,CAChB",file:"108802006_sub1.vue",sourcesContent:["\n.mint-sub .mint-header {\n  color: #000;\n  height: 50px;\n  line-height: 50px;\n}\n.mint-sub .mint-header .header-title {\n    font-size: 16px;\n    line-height: 2;\n}\n.mint-sub .mint-header i {\n    font-size: 20px;\n    margin-right: 10px;\n}\n.mint-sub .stitle {\n  background-color: #F7F7F7;\n}\n.mint-sub .stitle .mint-checklist-title {\n    font-size: 16px;\n    color: #000;\n    padding-top: 7px;\n    line-height: 2;\n}\n.mint-sub .stitle.checklist-title-none .mint-checklist-title {\n  display: none;\n}\n.mint-sub .mint-data-sub {\n  width: 100%;\n  height: 100%;\n  pointer-events: auto;\n}\n.mint-sub .mint-data-sub .close {\n    position: absolute;\n    right: 20px;\n    top: 20px;\n}\n.mint-sub .mint-data-sub .close i {\n      font-size: 20px;\n}\n.mint-sub .mint-data-sub .mint-field-core {\n    text-align: right;\n}\n.mint-sub .mint-data-sub .mint-cell-title,\n  .mint-sub .mint-data-sub .mint-cell-value {\n    font-size: 93%;\n}\n.mint-sub .overflow-auto {\n  overflow: auto;\n}\n.mint-sub .mint-sub-action {\n  width: 100%;\n  text-align: right;\n  position: fixed;\n  top: 0;\n  padding: 10px 0 10px 0;\n  background-color: white;\n  pointer-events: auto;\n}\n.mint-sub .mint-sub-action span {\n    border-radius: 100%;\n    vertical-align: middle;\n    margin-right: 15px;\n    background-color: #ccc;\n    padding: 4.5px 10px;\n    color: #000;\n}\n.mint-sub .checklist-right .mint-checklist-label {\n  padding-left: 0;\n  padding-right: 0;\n}\n.mint-sub .checklist-right .mint-checkbox-label {\n  color: #9C9A9C;\n  margin-left: 0;\n}\n"],sourceRoot:""}])},949:function(t,e,i){var n=i(945);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(906)("7fb373a2",n,!0)},953:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"mint-sub"},[i("mt-popup",{ref:"subPopup",staticClass:"mint-data-sub overflow-auto",attrs:{position:"right",modal:!1},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[i("mt-header",{staticClass:"stitle"},[i("label",{staticClass:"header-title",slot:"left"},[t._v("选择附加险")]),t._v(" "),i("i",{staticClass:"iconfont icon-guanbi",on:{click:t.close},slot:"right"})]),t._v(" "),i("mt-checklist",{attrs:{options:[{label:"天安人寿附加金如意C款年金保险（万能型）",value:"1"}]},model:{value:t.check[1088],callback:function(e){t.$set(t.check,1088,e)},expression:"check[1088]"}}),t._v(" "),"1"===t.check[1088][0]?i("div",[i("mt-cell",{attrs:{title:"交费方式"},model:{value:t.subCal[1088].option.payType.val_text,callback:function(e){t.subCal[1088].option.payType.val_text=e},expression:"subCal[1088].option.payType.val_text"}}),t._v(" "),i("mt-cell",{attrs:{title:"保险期间"},model:{value:t.subCal[1088].option.insTerm.val_text,callback:function(e){t.subCal[1088].option.insTerm.val_text=e},expression:"subCal[1088].option.insTerm.val_text"}}),t._v(" "),i("mt-field",{directives:[{name:"verify",rawName:"v-verify.sub",value:"required|integerNum",expression:"'required|integerNum'",modifiers:{sub:!0}}],ref:"field",attrs:{label:"保费(元)","data-verify":"{error:['请输入保费','请正确输入保费']}",placeholder:"请输入保费",type:"number"},model:{value:t.subCal[1088].option.prem.val,callback:function(e){t.subCal[1088].option.prem.val=t._n(e)},expression:"subCal[1088].option.prem.val"}})],1):t._e(),t._v(" "),i("mt-checklist",{attrs:{options:[{label:"附加住院费用医疗保险",value:"1"}]},model:{value:t.check[966],callback:function(e){t.$set(t.check,966,e)},expression:"check[966]"}}),t._v(" "),"1"===t.check[966][0]?i("div",[i("mt-cell",{attrs:{title:"交费方式"},model:{value:t.subCal[966].option.payType.val_text,callback:function(e){t.subCal[966].option.payType.val_text=e},expression:"subCal[966].option.payType.val_text"}}),t._v(" "),i("mt-cell",{attrs:{title:"交费年期"},model:{value:t.subCal[966].option.payTerm.val_text,callback:function(e){t.subCal[966].option.payTerm.val_text=e},expression:"subCal[966].option.payTerm.val_text"}}),t._v(" "),i("mt-cell",{attrs:{title:"保险期间"},model:{value:t.subCal[966].option.insTerm.val_text,callback:function(e){t.subCal[966].option.insTerm.val_text=e},expression:"subCal[966].option.insTerm.val_text"}}),t._v(" "),i("mt-field",{directives:[{name:"verify",rawName:"v-verify.sub",value:"required|positiveInt",expression:"'required|positiveInt'",modifiers:{sub:!0}}],ref:"field",attrs:{label:"保额(元)","data-verify":"{error:['请输入附加住院医疗保险保额','请正确输入附加住院医疗保险保额']}",placeholder:"请输入保额",type:"number"},model:{value:t.subCal[966].option.amount.val,callback:function(e){t.subCal[966].option.amount.val=t._n(e)},expression:"subCal[966].option.amount.val"}}),t._v(" "),i("mt-cell",{attrs:{title:"保费(元)"},model:{value:t.subCal[966].option.prem.val,callback:function(e){t.subCal[966].option.prem.val=e},expression:"subCal[966].option.prem.val"}})],1):t._e(),t._v(" "),i("mt-checklist",{attrs:{options:[{label:"附加住院津贴保险",value:"1"}]},model:{value:t.check[968],callback:function(e){t.$set(t.check,968,e)},expression:"check[968]"}}),t._v(" "),"1"===t.check[968][0]?i("div",[i("mt-cell",{attrs:{title:"交费方式"},model:{value:t.subCal[968].option.payType.val_text,callback:function(e){t.subCal[968].option.payType.val_text=e},expression:"subCal[968].option.payType.val_text"}}),t._v(" "),i("mt-cell",{attrs:{title:"交费年期"},model:{value:t.subCal[968].option.payTerm.val_text,callback:function(e){t.subCal[968].option.payTerm.val_text=e},expression:"subCal[968].option.payTerm.val_text"}}),t._v(" "),i("mt-cell",{attrs:{title:"保险期间"},model:{value:t.subCal[968].option.insTerm.val_text,callback:function(e){t.subCal[968].option.insTerm.val_text=e},expression:"subCal[968].option.insTerm.val_text"}}),t._v(" "),i("mt-field",{directives:[{name:"verify",rawName:"v-verify.sub",value:"required|positiveInt",expression:"'required|positiveInt'",modifiers:{sub:!0}}],ref:"field",attrs:{label:"份数","data-verify":"{error:['请输入份数','请正确输入份数']}",placeholder:"请输入份数",type:"number"},model:{value:t.subCal[968].option.share.val,callback:function(e){t.subCal[968].option.share.val=t._n(e)},expression:"subCal[968].option.share.val"}}),t._v(" "),i("mt-field",{directives:[{name:"verify",rawName:"v-verify.sub",value:"required|positiveInt",expression:"'required|positiveInt'",modifiers:{sub:!0}}],ref:"field",attrs:{label:"保额(元)","data-verify":"{error:['请输入附加意外伤害保险保额','请正确输入附加意外伤害保险保额']}",placeholder:"请输入保额",type:"number"},model:{value:t.subCal[968].option.amount.val,callback:function(e){t.subCal[968].option.amount.val=t._n(e)},expression:"subCal[968].option.amount.val"}}),t._v(" "),i("mt-cell",{attrs:{title:"保费(元)"},model:{value:t.subCal[968].option.prem.val,callback:function(e){t.subCal[968].option.prem.val=e},expression:"subCal[968].option.prem.val"}})],1):t._e()],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=0.c3c5e3206daefb21f67d.js.map